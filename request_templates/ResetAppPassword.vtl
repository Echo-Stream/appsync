#if ("$!{ctx.prev.result}" == "" )
  $util.error("App not found")
#end

#if ("$!{ctx.prev.result.authType}" != "cognito")
  $util.error("You may only change the password for apps that use 'cognito' authType")
#end

{
  "version" : "2018-05-29",
  "operation" : "UpdateItem",
  "key" : {
    "pk" : $util.dynamodb.toDynamoDBJson($!{ctx.stash.tenant}),
    "sk" : $util.dynamodb.toDynamoDBJson("A~$!{ctx.stash.name}")
  },
  "update" : {
    "expression" : "REMOVE config.password",
  }
}
