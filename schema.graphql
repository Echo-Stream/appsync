type AlertEmitterNode implements Node @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	sendEdges: [Edge]
	sendMessageType: MessageType!
	tenant: Tenant!
}

type ApiUser @aws_cognito_user_pools {
	created: AtBy!
	credentials: CognitoCredentials!
	description: String
	lastModified: AtBy!
	role: ApiUserRole!
	tenant: Tenant!
	username: String!

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ResetPassword: ApiUser!
	Update(description: String, role: ApiUserRole): ApiUser!
}

type ApiUserResult @aws_cognito_user_pools {
	echos: [ApiUser]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

enum ApiUserRole {
	admin
	read_only
	user
}

interface App @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
}

type AppChangeNotification @aws_cognito_user_pools {
	app: String!
	change: Change!
	dateTime: AWSDateTime!
	tenant: String!
}

type AppResult @aws_cognito_user_pools {
	echos: [App]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type AtBy @aws_cognito_user_pools {
	at: AWSDateTime
	by: String
}

input AuditRecord {
	attributes: AWSJSON
	datetime: AWSDateTime!
	previousTrackingIds: [String!]
	sourceNode: String
	trackingId: String!
}

type AwsCredentials @aws_cognito_user_pools {
	accessKeyId: String!
	secretAccessKey: String!
	sessionToken: String!
	expiration: AWSDateTime!
}

type BitmapperFunction implements Function @aws_cognito_user_pools {
	argumentMessageType: MessageType!
	code: String!
	created: AtBy!
	description: String!
	lastModified: AtBy!
	name: String!
	readme: String
	requirements: [String!]
	system: Boolean
	tenant: Tenant

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(code: String, description: String, readme: String, requirements: [String!]): BitmapperFunction!
	Validate(message: String!, code: String, loggingLevel: LogLevel): ValidationResult!
}

type BulkDataStorage @aws_cognito_user_pools {
	presignedGet: AWSURL!
	presignedPost: PresignedPost!
}

type Change @aws_cognito_user_pools {
	new: Echo
	old: Echo
}

type ChangeEmitterNode implements Node @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	sendEdges: [Edge]
	sendMessageType: MessageType!
	tenant: Tenant!
}

type ChangeResult @aws_cognito_user_pools {
	echos: [Change]!
	nextToken: String
}

type CognitoCredentials @aws_cognito_user_pools {
	clientId: String!
	password: String!
	userPoolId: String!
	username: String!
}

enum ContentEncoding {
	gzip
	deflate
}

type CrossAccountApp implements App @aws_cognito_user_pools {
	account: String!
	config: AWSJSON
	created: AtBy!
	credentials: CognitoCredentials!
	description: String
	iamPolicy: AWSJSON!
	lastModified: AtBy!
	name: String!
	nodes: [ExternalNode]
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ResetPassword: CrossAccountApp!
	Update(config: AWSJSON, description: String): CrossAccountApp!
}

type CrossTenantReceivingApp implements App @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	nodes: [CrossTenantReceivingNode]
	sendingApp: String
	sendingTenant: String!
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(description: String): CrossTenantReceivingApp!
}

type CrossTenantReceivingNode implements Node @aws_cognito_user_pools {
	app: CrossTenantReceivingApp!
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	sendEdges: [Edge]
	sendMessageType: MessageType
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(description: String): CrossTenantReceivingNode!
}

type CrossTenantSendingApp implements App @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	nodes: [CrossTenantSendingNode]
	receivingApp: String!
	receivingTenant: String!
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(description: String): CrossTenantSendingApp!
}

type CrossTenantSendingNode implements Node @aws_cognito_user_pools {
	app: CrossTenantSendingApp!
	config: AWSJSON
	created: AtBy!
	description: String
	inlineTransformer: String
	lastModified: AtBy!
	managedTransformer: TransformerFunction
	name: String!
	receiveEdges: [Edge]
	receiveMessageType: MessageType
	requirements: [String!]
	sequentialProcessing: Boolean
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ListLogEvents(endDateTime: AWSDateTime, filterPattern: String, limit: Int, nextToken: String, startDateTime: AWSDateTime): LogEventResults!
	Update(config: AWSJSON, description: String, inlineTransformer: String, managedTransformer: String, requirements: [String!], sequentialProcessing: Boolean): CrossTenantSendingNode!
	Validate(message: String!, code: String, loggingLevel: LogLevel): ValidationResult!
}

type DeadLetterEmitterNode implements Node @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	sendEdges: [Edge]
	sendMessageType: MessageType!
	tenant: Tenant!
}

union Echo = AlertEmitterNode | BitmapperFunction | ChangeEmitterNode | CrossAccountApp | CrossTenantReceivingApp | CrossTenantReceivingNode | CrossTenantSendingApp | CrossTenantSendingNode | DeadLetterEmitterNode | Edge |  ExternalApp | ExternalNode | KmsKey | LogEmitterNode | ManagedApp | ManagedNode | ManagedNodeType | MessageType | RouterNode | Tenant | TimerNode | TransformerFunction | TransformerNode

type Edge @aws_cognito_user_pools {
	created: AtBy!
	description: String
	kmsKey: KmsKey
	lastModified: AtBy!
	maxReceiveCount: Int
	messageCounts: MessageCounts!
	messageType: MessageType!
	queue: AWSURL!
	source: Node!
	target: Node!
	tenant: Tenant!

	Delete(drain: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Move(source: String!, target: String): Edge!
	Purge: Boolean!
	Update(description: String): Edge!
}

type EdgeResult @aws_cognito_user_pools {
	echos: [Edge]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type ExternalApp implements App @aws_cognito_user_pools {
	config: AWSJSON
	created: AtBy!
	credentials: CognitoCredentials!
	description: String
	lastModified: AtBy!
	name: String!
	nodes: [ExternalNode]
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	GetAwsCredentials(duration: Int): AwsCredentials!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ResetPassword: ExternalApp!
	Update(config: AWSJSON, description: String): ExternalApp!
}

type ExternalNode implements Node @aws_cognito_user_pools {
	app: ExternalApp!
	config: AWSJSON
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	receiveEdges: [Edge]
	receiveMessageType: MessageType
	sendEdges: [Edge]
	sendMessageType: MessageType
	tenant: Tenant!

	CreateAuditRecords(messageType: String!, auditRecords: [AuditRecord!]!): Boolean!
	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(config: AWSJSON, description: String): ExternalNode!
}

interface Function @aws_cognito_user_pools {
	argumentMessageType: MessageType!
	code: String!
	created: AtBy!
	description: String!
	name: String!
	lastModified: AtBy!
	readme: String
	requirements: [String!]
	system: Boolean
	tenant: Tenant

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Validate(message: String!, code: String, loggingLevel: LogLevel): ValidationResult!
}

type FunctionResult @aws_cognito_user_pools {
	echos: [Function]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type Healthcheck @aws_cognito_user_pools {
	interval: String!
	retries: Int!
	startPeriod: String!
	test: String!
	timeout: String!
}

input HealthcheckInput {
	interval: String!
	retries: Int!
	startPeriod: String!
	test: String!
	timeout: String!
}

type HostMount @aws_cognito_user_pools {
	containerPath: String!
	description: String!
	hostPath: String!
}

input HostMountInput {
	containerPath: String!
	description: String
	hostPath: String!
}

type HostMountRequirement @aws_cognito_user_pools {
	containerPath: String!
	description: String!
}

input HostMountRequirementInput {
	containerPath: String!
	description: String!
}

type KmsKey @aws_cognito_user_pools {
	arn: String!
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	tenant: Tenant!

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(description: String): KmsKey!
}

type KmsKeyResult @aws_cognito_user_pools {
	echos: [KmsKey]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type LogEmitterNode implements Node @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	sendEdges: [Edge]
	sendMessageType: MessageType!
	tenant: Tenant!
}

type LoginUser @aws_cognito_user_pools {
	activeDate: String
	created: AtBy!
	email: AWSEmail!
	firstName: String!
	lastModified: AtBy!
	lastName: String!
	tenantUsers: [TenantUser!]
}

type LogEvent @aws_cognito_user_pools {
	timestamp: AWSDateTime!
	message: String!
	ingestionTime: AWSDateTime!
}

type LogEventResults @aws_cognito_user_pools {
	events: [LogEvent]!
	nextToken: String
}

enum LogLevel {
	DEBUG
	ERROR
	INFO
	WARNING
}

type ManagedApp implements App @aws_cognito_user_pools {
	config: AWSJSON
	created: AtBy!
	credentials: CognitoCredentials!
	description: String
	managedInstances: [ManagedInstance]
	iso: String!
	lastModified: AtBy!
	name: String!
	nodes: [ManagedNode]
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	DeregisterManagedInstance(instanceId: String!): Boolean!
	GetAwsCredentials(duration: Int): AwsCredentials!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ResetPassword: ManagedApp!
	Update(config: AWSJSON, description: String): ManagedApp!
}

type ManagedInstance @aws_cognito_user_pools {
	activationId: String!
	hostname: String!
	instanceId: String!
	ipAddress: AWSIPAddress!
	lastPingDateTime: AWSDateTime!
	pingStatus: PingStatus!
	registrationDate: AWSDateTime!
}

type ManagedNode implements Node @aws_cognito_user_pools {
	app: ManagedApp!
	config: AWSJSON
	created: AtBy!
	description: String
	hostMounts: [HostMount!]
	lastModified: AtBy!
	managedNodeType: ManagedNodeType!
	name: String!
	portMappings: [PortMapping!]
	receiveEdges: [Edge]
	receiveMessageType: MessageType
	sendEdges: [Edge]
	sendMessageType: MessageType
	tenant: Tenant!

	CreateAuditRecords(messageType: String!, auditRecords: [AuditRecord!]!): Boolean!
	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ListLogEvents(endDateTime: AWSDateTime, filterPattern: String, limit: Int, nextToken: String, startDateTime: AWSDateTime): LogEventResults!
	Update(config: AWSJSON, description: String, hostMounts: [HostMountInput!], portMappings: [PortMappingInput!]): ManagedNode!
}

type ManagedNodeType @aws_cognito_user_pools {
	configTemplate: AWSJSON
	created: AtBy!
	description: String!
	imageUri: String!
	healthcheck: Healthcheck
	hostMountRequirements: [HostMountRequirement!]
	lastModified: AtBy!
	name: String!
	portMappingRequirements: [PortMappingRequirement!]
	readme: String
	receiveMessageType: MessageType
	sendMessageType: MessageType
	system: Boolean
	tenant: Tenant
	volumes: [String!]

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(description: String, healthcheck: HealthcheckInput, readme: String, volumes: [String!]): ManagedNodeType!
}

type ManagedNodeTypeResult @aws_cognito_user_pools {
	echos: [ManagedNodeType]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type MessageCounts @aws_cognito_user_pools {
	approximateNumberOfMessages: Int!
	approximateNumberOfMessagesDelayed: Int!
	approximateNumberOfMessagesNotVisible: Int!
}

type MessageType @aws_cognito_user_pools {
	auditor: String!
	bitmapperTemplate: String!
	created: AtBy!
	description: String!,
	lastModified: AtBy!
	name: String!
	readme: String
	requirements: [String!]
	system: Boolean
	tenant: Tenant
	transformerTemplate: String!

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(auditor: String, bitmapperTemplate: String, description: String, readme: String, requirements: [String!], transformerTemplate: String): MessageType!
	Validate(message: String!, code: String, loggingLevel: LogLevel): ValidationResult!
}

type MessageTypeResult @aws_cognito_user_pools {
	echos: [MessageType]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type Mutation @aws_cognito_user_pools {
	CreateApiUser(tenant: String!, role: ApiUserRole!, description: String): ApiUser!
	CreateAppChangeNotification(tenant: String!, app: String!, new: AWSJSON, old: AWSJSON): AppChangeNotification!
	@aws_iam
	CreateBitmapperFunction(
		tenant: String!,
		name: String!,
		code: String!,
		description: String!,
		argumentMessageType: String!,
		readme: String,
		requirements: [String!]
	): BitmapperFunction!
	CreateCrossAccountApp(
		account: String!,
		tenant: String!,
		name: String!,
		config: AWSJSON,
		description: String
	): ExternalApp!
	CreateCrossTenantReceivingApp(
		tenant: String!,
		name: String!,
		sendingTenant: String!
	): CrossTenantReceivingApp!
	CreateCrossTenantSendingApp(
		tenant: String!,
		name: String!,
		receivingTenant: String!,
		receivingApp: String!
	): CrossTenantSendingApp!
	CreateCrossTenantSendingNode(
		tenant: String!,
		app: String!,
		name: String!,
		receiveMessageType: String!,
		description: String,
		config: AWSJSON,
		sendMessageType: String,
		inlineTransformer: String,
		managedTransformer: String,
		sequentialProcessing: Boolean,
		requirements: [String!]
	): CrossTenantSendingNode!
	CreateEdge(
		source: String!,
		target: String!,
		tenant: String!,
		description: String,
		kmsKey: String,
		maxReceiveCount: Int
	): Edge!
	CreateExternalApp(
		tenant: String!,
		name: String!,
		config: AWSJSON,
		description: String,
	): ExternalApp!
	CreateExternalNode(
		tenant: String!,
		app: String!,
		name: String!,
		receiveMessageType: String,
		sendMessageType: String
		description: String,
		config: AWSJSON
	): ExternalNode!
	CreateKmsKey(tenant: String!, 	name: String!, description: String): KmsKey!
	CreateManagedApp(
		tenant: String!,
		name: String!, 
		config: AWSJSON, 
		description: String
	): ManagedApp!
	CreateManagedNode(
		tenant: String!,
		app: String!,
		name: String!,
		managedNodeType: String!,
		description: String,
		config: AWSJSON,
		portMappings: [PortMappingInput!],
		hostMounts: [HostMountInput!]
	): ManagedNode!
	CreateManagedNodeType(
		imageUri: String!
		name: String!,
		tenant: String!,
		configTemplate: AWSJSON,
		description: String!,
		healthcheck: HealthcheckInput
		hostMountRequirements: [HostMountRequirementInput!],
		portMappingRequirements: [PortMappingRequirementInput!],
		readme: String,
		receiveMessageType: String,
		sendMessageType: String,
		volumes: [String!],
	): ManagedNodeType!
	CreateMessageType(
		auditor: String!,
		bitmapperTemplate: String!,
		description: String!,
		name: String!,
		tenant: String!,
		transformerTemplate: String!,
		readme: String,
		requirements: [String!]
	): MessageType!
	CreateRouterNode(
		tenant: String!,
		name: String!,
		receiveMessageType: String!,
		routeTable: AWSJSON!,
		inlineBitmapper: String,
		managedBitmapper: String
		description: String,
		config: AWSJSON,
		requirements: [String!]
	): RouterNode!
	CreateTenant(name: String!, region: Region!, config: AWSJSON): Tenant!
	CreateTimerNode(
		name: String!,
		scheduleExpression: String!,
		tenant: String!,
		description: String
	): TimerNode!
	CreateTransformerFunction(
		tenant: String!,
		name: String!,
		code: String!,
		description: String!,
		argumentMessageType: String!,
		readme: String,
		requirements: [String!],
		returnMessageType: String
	): TransformerFunction!
	CreateTransformerNode(
		tenant: String!,
		name: String!,
		receiveMessageType: String!,
		description: String,
		config: AWSJSON,
		sendMessageType: String,
		inlineTransformer: String,
		managedTransformer: String,
		sequentialProcessing: Boolean,
		requirements: [String!]
	): TransformerNode!
}

interface Node @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	tenant: Tenant!
}

type NodeResult @aws_cognito_user_pools {
	echos: [Node]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

enum PingStatus {
	ConnectionLost
	Inactive
	Online
}

type PortMapping @aws_cognito_user_pools {
	containerPort: Int!
	description: String!
	hostPort: Int!
}

input PortMappingInput {
	containerPort: Int!
	hostPort: Int!
}

type PortMappingRequirement @aws_cognito_user_pools {
	containerPort: Int!
	description: String!
}

input PortMappingRequirementInput {
	containerPort: Int!
	description: String!
}

type PresignedPost @aws_cognito_user_pools {
	expiration: AWSTimestamp!
	fields: AWSJSON!
	url: AWSURL!
}

type Query @aws_cognito_user_pools {
	GetApiUser(tenant: String!, username: String!): ApiUser
	GetApp(name: String!, tenant: String!): App
	GetBulkDataStorage(tenant: String!, contentEncoding: ContentEncoding, count: Int): [BulkDataStorage!]!
	GetEdge(source: String!, target: String!, tenant: String!): Edge
	GetFunction(name: String!, tenant: String): Function
	GetKmsKey(name: String!, tenant: String!): KmsKey
	GetManagedNodeType(name: String!, tenant: String): ManagedNodeType
	GetMessageType(name: String!, tenant: String): MessageType
	GetNode(name: String!, tenant: String!): Node
	GetTenant(tenant: String!): Tenant
	GetTenantUser(tenant: String!, email: AWSEmail!): TenantUser
	GetUser: LoginUser

	ListApiUsers(tenant: String!, exclusiveStartKey: AWSJSON, limit: Int): ApiUserResult!
	ListApps(tenant: String!, exclusiveStartKey: AWSJSON, limit: Int): AppResult!
	ListChanges(tenant: String!, endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ListFunctions(exclusiveStartKey: AWSJSON, limit: Int, tenant: String): FunctionResult!
	ListKmsKeys(tenant: String!, exclusiveStartKey: AWSJSON, limit: Int): KmsKeyResult!
	ListNodes(tenant: String!, exclusiveStartKey: AWSJSON, limit: Int): NodeResult!
	ListManagedNodeTypes(exclusiveStartKey: AWSJSON, limit: Int, tenant: String): ManagedNodeTypeResult!
	ListMessageTypes(exclusiveStartKey: AWSJSON, limit: Int, tenant: String): MessageTypeResult!
	ListTenants(exclusiveStartKey: AWSJSON, limit: Int): TenantResult!
	ListTenantUsers(tenant: String!, exclusiveStartKey: AWSJSON, limit: Int): TenantUserResult!
}

enum Region {
	af_south_1
	ap_east_1
	ap_northeast_1
	ap_northeast_2
	ap_northeast_3
	ap_south_1
	ap_southeast_1
	ap_southeast_2
	ca_central_1
	eu_central_1
	eu_north_1
	eu_south_1
	eu_west_1
	eu_west_2
	eu_west_3
	me_south_1
	sa_east_1
	us_east_1
	us_east_2
	us_west_1
	us_west_2
	us_gov_east_1
	us_gov_west_1
}

type RouterNode implements Node @aws_cognito_user_pools {
	config: AWSJSON
	created: AtBy!
	description: String
	inlineBitmapper: String
	lastModified: AtBy!
	managedBitmapper: BitmapperFunction
	name: String!
	receiveEdges: [Edge]
	receiveMessageType: MessageType
	requirements: [String!]
	routeTable: AWSJSON!
	sendEdges: [Edge]
	sendMessageType: MessageType
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ListLogEvents(endDateTime: AWSDateTime, filterPattern: String, limit: Int, nextToken: String, startDateTime: AWSDateTime): LogEventResults!
	Update(config: AWSJSON, description: String, inlineBitmapper: String, managedBitmapper: String, requirements: [String!], routeTable: AWSJSON): RouterNode!
	Validate(message: String!, code: String, loggingLevel: LogLevel): ValidationResult!
}

type Subscription @aws_cognito_user_pools {
	onAppChange(tenant: String!, app: String!): AppChangeNotification
	@aws_subscribe(mutations: ["CreateAppChangeNotification"])
}

type Tenant @aws_cognito_user_pools {
	config: AWSJSON
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	region: String!
	users: [TenantUser!]

	AddUser(email: String!, role: UserRole!): TenantUser!
	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(config: AWSJSON, description: String): Tenant!
}

type TenantResult @aws_cognito_user_pools {
	echos: [Tenant]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type TenantUser @aws_cognito_user_pools {
	activeDate: String
	created: AtBy!
	email: AWSEmail!
	firstName: String
	invitationDate: String
	invitationToken: String
	lastModified: AtBy!
	lastName: String
	role: UserRole!
	status: UserStatus!
	tenant: Tenant!

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(role: UserRole, status: UserStatus): TenantUser!
}

type TenantUserResult @aws_cognito_user_pools {
	echos: [TenantUser]
	lastEvaluatedKey: AWSJSON
	scannedCount: Int
}

type TimerNode implements Node @aws_cognito_user_pools {
	created: AtBy!
	description: String
	lastModified: AtBy!
	name: String!
	scheduleExpression: String!
	sendEdges: [Edge]
	sendMessageType: MessageType!
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(description: String): TimerNode!
}

type TransformerFunction implements Function @aws_cognito_user_pools {
	argumentMessageType: MessageType!
	code: String!
	created: AtBy!
	description: String!
	lastModified: AtBy!
	name: String!
	readme: String
	requirements: [String!]
	returnMessageType: MessageType!
	system: Boolean
	tenant: Tenant

	Delete: Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	Update(code: String, description: String, readme: String, requirements: [String!]): TransformerFunction!
	Validate(message: String!, code: String, loggingLevel: LogLevel): ValidationResult!
}

type TransformerNode implements Node @aws_cognito_user_pools {
	config: AWSJSON
	created: AtBy!
	description: String
	inlineTransformer: String
	lastModified: AtBy!
	managedTransformer: TransformerFunction
	name: String!
	receiveEdges: [Edge]
	receiveMessageType: MessageType
	requirements: [String!]
	sendEdges: [Edge]
	sendMessageType: MessageType
	sequentialProcessing: Boolean
	tenant: Tenant!

	Delete(drainEdges: Boolean): Boolean!
	ListChanges(endDateTime: AWSDateTime, exclusiveStartKey: AWSJSON, limit: Int, sortAscending: Boolean, startDateTime: AWSDateTime): ChangeResult!
	ListLogEvents(endDateTime: AWSDateTime, filterPattern: String, limit: Int, nextToken: String, startDateTime: AWSDateTime): LogEventResults!
	Update(config: AWSJSON, description: String, inlineTransformer: String, managedTransformer: String, requirements: [String!], sequentialProcessing: Boolean): TransformerNode!
	Validate(message: String!, code: String, loggingLevel: LogLevel): ValidationResult!
}

enum UserRole {
	admin
	owner
	read_only
	user
}

enum UserStatus {
	active
	inactive
	invited
	pending
}

type ValidationResult @aws_cognito_user_pools {
	result: String!
	stdout: String!
}
